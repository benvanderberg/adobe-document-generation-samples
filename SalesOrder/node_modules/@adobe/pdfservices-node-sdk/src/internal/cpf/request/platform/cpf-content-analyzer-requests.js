/*
 * Copyright 2019 Adobe
 * All Rights Reserved.
 *
 * NOTICE: Adobe permits you to use, modify, and distribute this file in
 * accordance with the terms of the Adobe license agreement accompanying
 * it. If you have received this file from a source other than Adobe,
 * then your use, modification, or distribution of it requires the prior
 * written permission of Adobe.
 */

class CpfContentAnalyzerRequests {
	constructor(engine,inputs,params,outputs,extractOutputs,inputUrl){
		this['cpf:engine'] = engine;
		let inputKey = 'documentIn';
		if(Array.isArray(inputs)){
			inputKey = 'documentsIn';
		}
		this['cpf:inputs'] = {};
		if(inputs !== null) {
			this['cpf:inputs'][inputKey] = inputs;
		}
		this['cpf:inputs']['params'] = {};
		this['cpf:inputs']['params']['cpf:inline'] = params;
		if (inputUrl !== null) {
			this['cpf:inputs']['inputUrl'] = inputUrl;
		}
		let outputKey = 'documentOut';
		if(Array.isArray(outputs)){
			outputKey = 'documentOutList';
		}
		this['cpf:outputs'] = {};
		this['cpf:outputs'][outputKey] = Array.isArray(outputs) ? outputs[0] : outputs;
		if(extractOutputs != null){
			this['cpf:outputs'] = {'elementsInfo': extractOutputs['outputInfo'], 'elementsRenditions': extractOutputs['outputRenditions'] };
		}
		if(outputs.metadata!=null){
			this['cpf:outputs'] = outputs
		}
	}
	setEngine(value){
		this['cpf:engine'] = value;

	}
}

module.exports = CpfContentAnalyzerRequests;
